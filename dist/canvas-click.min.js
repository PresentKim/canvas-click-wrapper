!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(e="undefined"!=typeof globalThis?globalThis:e||self)["canvas-click"]=n()}(this,(function(){"use strict";var e={start:["mousedown","touchstart"],move:["mousemove","touchmove"],end:["mouseup","touchend","touchcancel"]};return function(){function n(e,n,t,i,o){this.identifier=e,this.pageX=n,this.pageY=t,this.x=i,this.y=o}return n.addClickListener=function(t,i,o,r){void 0===r&&(r=i);for(var c=0,f=t instanceof Array?t:[t];c<f.length;c++)for(var u=f[c],a=0,d=e[u];a<d.length;a++){var l=d[a];r.addEventListener(l,n.wrap(i,o))}},n.wrap=function(t,i,o){return function(r){var c=function(e,n){for(var t in e)if(e[t].includes(n))return t}(e,r.type);if(void 0===c)throw new Error("Unknown event type: "+r.type);if(r instanceof MouseEvent)0===r.button&&i.call(o,n.from(t,r),c);else if(r instanceof TouchEvent)for(var f=r.changedTouches.length,u=0;u<f;++u)i.call(o,n.from(t,r.changedTouches[u]),c)}},n.from=function(e,t){var i,o=e.getBoundingClientRect();return new n(null!==(i=t.identifier)&&void 0!==i?i:0,t.pageX,t.pageY,(t.pageX-o.left-window.scrollX)/(e.clientWidth/(e.width||e.clientWidth)),(t.pageY-o.top-window.scrollY)/(e.clientHeight/(e.height||e.clientHeight)))},n}()}));
